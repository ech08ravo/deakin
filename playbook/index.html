<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEBE Interactive Assessment Playbook</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #007D98 0%, #58BCAF 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: #f7f8fc;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #363635 0%, #007D98 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.95;
        }

        /* Navigation */
        .nav-tabs {
            display: flex;
            background: #363635;
            padding: 0;
            list-style: none;
            justify-content: centre;
            flex-wrap: wrap;
        }

        .nav-tab {
            flex: 1;
            min-width: 150px;
            max-width: 200px;
        }

        .nav-tab button {
            width: 100%;
            padding: 20px;
            background: none;
            border: none;
            color: white;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .nav-tab button:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-tab button.active {
            background: #007D98;
        }

        .nav-tab button.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: #FF9300;
        }

        /* Content Sections */
        .content {
            padding: 40px;
            min-height: 500px;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Card Grid */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        /* Assessment Cards (JISC Postcard Style) */
        .assessment-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .assessment-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .card-header {
            padding: 25px;
            background: linear-gradient(135deg, #007D98 0%, #006D88 100%);
            color: white;
        }

        .card-header.individual {
            background: linear-gradient(135deg, #007D98 0%, #006D88 100%);
        }

        .card-header.group {
            background: linear-gradient(135deg, #58BCAF 0%, #0B7161 100%);
        }

        .card-header.mixed {
            background: linear-gradient(135deg, #FF9300 0%, #AD4206 100%);
        }

        .card-header.teamwork {
            background: linear-gradient(135deg, #C74298 0%, #AC3382 100%);
        }

        .card-title {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .card-type {
            font-size: 0.9em;
            opacity: 0.95;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .card-body {
            padding: 25px;
        }

        .card-section {
            margin-bottom: 20px;
        }

        .card-section h4 {
            color: #363635;
            margin-bottom: 10px;
            font-size: 1.1em;
            display: flex;
            align-items: center;
        }

        .card-section h4::before {
            content: '▶';
            margin-right: 8px;
            color: #007D98;
            font-size: 0.8em;
        }

        .skills-list {
            list-style: none;
            padding-left: 20px;
        }

        .skills-list li {
            padding: 5px 0;
            color: #555;
            position: relative;
            padding-left: 20px;
        }

        .skills-list li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: #58BCAF;
            font-weight: bold;
        }

        .formats {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #007D98;
        }

        .formats p {
            margin: 5px 0;
            color: #666;
        }

        /* Filter Buttons */
        .filter-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 10px 20px;
            background: white;
            border: 2px solid #007D98;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1em;
            color: #007D98;
        }

        .filter-btn:hover {
            background: #007D98;
            color: white;
        }

        .filter-btn.active {
            background: #007D98;
            color: white;
        }

        /* Tooltips */
        .time-tooltip {
            position: relative;
            cursor: help;
        }

        .time-tooltip:hover .tooltip-content {
            display: block !important;
        }

        .tooltip-content {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #363635;
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.85em;
            white-space: nowrap;
            z-index: 1000;
            margin-bottom: 5px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .tooltip-content::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 5px solid transparent;
            border-top-color: #363635;
        }

        /* Advanced Filters */
        .advanced-filters-toggle {
            width: 100%;
            padding: 15px 20px;
            background: white;
            border: 2px solid #007D98;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            color: #363635;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
            margin-top: 20px;
        }

        .advanced-filters-toggle:hover {
            background: #f8f9fa;
        }

        .advanced-filters-toggle:focus {
            outline: 3px solid #007D98;
            outline-offset: 2px;
        }

        .advanced-filters-panel {
            display: none;
            background: white;
            border: 2px solid #007D98;
            border-radius: 10px;
            padding: 30px;
            margin-top: 10px;
            animation: slideDown 0.3s ease;
        }

        .advanced-filters-panel.open {
            display: block;
        }

        .filter-group {
            margin-bottom: 25px;
        }

        .filter-group label {
            display: block;
            font-weight: bold;
            color: #363635;
            margin-bottom: 10px;
            font-size: 1em;
        }

        .slider-container {
            position: relative;
            padding: 10px 0;
        }

        .slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ecf0f1;
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #007D98;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .slider::-moz-range-thumb {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #007D98;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .slider-value {
            display: inline-block;
            min-width: 60px;
            padding: 5px 10px;
            background: #f8f9fa;
            border-radius: 5px;
            font-weight: bold;
            color: #363635;
            text-align: center;
            margin-top: 5px;
        }

        .filter-results-count {
            text-align: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            margin-top: 20px;
            font-weight: bold;
            color: #363635;
        }

        .reset-filters-btn {
            width: 100%;
            padding: 12px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 15px;
        }

        .reset-filters-btn:hover {
            background: #c0392b;
        }

        /* How To Button */
        .how-to-btn, .support-btn, .skills-btn {
            width: 100%;
            padding: 10px;
            margin-top: 15px;
            background: #007D98;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s;
        }

        .how-to-btn:hover, .support-btn:hover, .skills-btn:hover {
            background: #006D88;
            transform: translateY(-2px);
        }

        .support-btn {
            background: #58BCAF;
        }

        .support-btn:hover {
            background: #0B7161;
        }

        .skills-btn {
            background: #C74298;
        }

        .skills-btn:hover {
            background: #AC3382;
        }

        .how-to-content, .support-content, .skills-content {
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                max-height: 0;
            }
            to {
                opacity: 1;
                max-height: 2000px;
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .nav-tab {
                min-width: 100px;
            }
            
            .cards-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Model Container Styles */
        .model-container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .model-title {
            font-size: 1.8em;
            color: #363635;
            margin-bottom: 30px;
            text-align: center;
        }

        .model-components {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .component-bar {
            display: flex;
            align-items: center;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            border-left: 5px solid #007D98;
            transition: transform 0.2s;
        }

        .component-bar:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .component-bar.individual {
            border-left-color: #007D98;
        }

        .component-bar.group {
            border-left-color: #58BCAF;
        }

        .component-percent {
            background: #363635;
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 1.2em;
            margin-right: 20px;
            min-width: 60px;
            text-align: center;
        }

        .component-details {
            flex: 1;
        }

        .component-name {
            font-weight: bold;
            color: #363635;
            margin-bottom: 5px;
        }

        .component-desc {
            color: #666;
            font-size: 0.9em;
        }

        .component-type {
            padding: 5px 15px;
            border-radius: 20px;
            color: white;
            font-size: 0.85em;
            font-weight: bold;
            text-transform: uppercase;
        }

        .component-type.individual {
            background: #007D98;
        }

        .component-type.group {
            background: #58BCAF;
        }

        .model-summary {
            display: flex;
            justify-content: space-around;
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px solid #ecf0f1;
        }

        .summary-item {
            text-align: center;
        }

        .summary-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #363635;
        }

        .summary-label {
            color: #666;
            margin-top: 10px;
        }

        /* Implementation Guide */
        .guide-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
        }

        .guide-section h3 {
            color: #363635;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .guide-section h3::before {
            content: '🎯';
            margin-right: 10px;
            font-size: 1.2em;
        }

        .guide-list {
            list-style: none;
            padding-left: 20px;
        }

        .guide-list li {
            padding: 8px 0;
            color: #555;
            position: relative;
            padding-left: 25px;
        }

        .guide-list li::before {
            content: '→';
            position: absolute;
            left: 0;
            color: #007D98;
            font-weight: bold;
        }

        .highlight-box {
            background: linear-gradient(135deg, #58BCAF 0%, #007D98 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            margin-top: 30px;
        }

        .highlight-box h3 {
            margin-bottom: 10px;
            font-size: 1.4em;
        }

        .highlight-box p {
            font-size: 1.1em;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>SEBE Interactive Assessment Playbook</h1>
        </div>

        <!-- Navigation Tabs -->
        <ul class="nav-tabs">
            <li class="nav-tab">
                <button class="active" onclick="showTab('overview')">Overview</button>
            </li>
            <li class="nav-tab">
                <button onclick="showTab('individual')">Individual</button>
            </li>
            <li class="nav-tab">
                <button onclick="showTab('group')">Group</button>
            </li>
            <li class="nav-tab">
                <button onclick="showTab('teamwork')">Teamwork</button>
            </li>
            <li class="nav-tab">
                <button onclick="showTab('implementation')">Implementation</button>
            </li>
        </ul>

        <!-- Content Area -->
        <div class="content">
            <!-- Overview Tab -->
            <div id="overview" class="tab-content active">
                <h3 style="margin-top: 40px; margin-bottom: 20px;">Assessment Examples by Category</h3>
                <p style="color: #666; margin-bottom: 20px;">
                    Select filters below to explore different assessment types, year levels, and percentage models.
                </p>

                <div class="filter-buttons">
                    <button class="filter-btn active" onclick="filterCards('all')">All Types</button>
                    <button class="filter-btn" onclick="filterCards('individual')">Individual Only</button>
                    <button class="filter-btn" onclick="filterCards('group')">Group Only</button>
                    <button class="filter-btn" onclick="filterCards('mixed')">Mixed</button>
                    <button class="filter-btn" onclick="filterCards('year1')">Year 1</button>
                    <button class="filter-btn" onclick="filterCards('year2')">Year 2</button>
                    <button class="filter-btn" onclick="filterCards('year3')">Year 3</button>
                    <button class="filter-btn" onclick="filterCards('teamwork')" style="background: #C74298; color: white; border-color: #C74298;">Assessing Teamwork</button>
                </div>

                <!-- Advanced Filters -->
                <button class="advanced-filters-toggle" 
                        onclick="toggleAdvancedFilters()" 
                        aria-expanded="false" 
                        aria-controls="advanced-filters-panel"
                        id="advanced-filters-toggle-btn">
                    <span>🔍 Advanced Filters</span>
                    <span id="toggle-icon">▼</span>
                </button>

                <div id="advanced-filters-panel" class="advanced-filters-panel" role="region" aria-labelledby="advanced-filters-toggle-btn">
                    <div class="filter-group">
                        <label for="cohort-slider">
                            Cohort Size: <span class="slider-value" id="cohort-value">0-500</span> students
                        </label>
                        <div class="slider-container">
                            <input type="range" min="0" max="500" value="500" class="slider" id="cohort-slider" 
                                   aria-label="Filter by cohort size" 
                                   oninput="updateSliderValue('cohort', this.value); applyFilters()">
                        </div>
                    </div>

                    <div class="filter-group">
                        <label for="groupsize-slider">
                            Group Size: <span class="slider-value" id="groupsize-value">0-20</span> members
                        </label>
                        <div class="slider-container">
                            <input type="range" min="0" max="20" value="20" class="slider" id="groupsize-slider" 
                                   aria-label="Filter by group size" 
                                   oninput="updateSliderValue('groupsize', this.value); applyFilters()">
                        </div>
                    </div>

                    <div class="filter-group">
                        <label for="time-slider">
                            Time Required: <span class="slider-value" id="time-value">0-30</span> minutes
                        </label>
                        <div class="slider-container">
                            <input type="range" min="0" max="30" value="30" class="slider" id="time-slider" 
                                   aria-label="Filter by time required" 
                                   oninput="updateSliderValue('time', this.value); applyFilters()">
                        </div>
                    </div>

                    <div class="filter-group">
                        <label for="groups-slider">
                            Number of Groups: <span class="slider-value" id="groups-value">0-100</span> groups
                        </label>
                        <div class="slider-container">
                            <input type="range" min="0" max="100" value="100" class="slider" id="groups-slider" 
                                   aria-label="Filter by number of groups" 
                                   oninput="updateSliderValue('groups', this.value); applyFilters()">
                        </div>
                    </div>

                    <div class="filter-group">
                        <label for="assessors-slider">
                            Number of Assessors: <span class="slider-value" id="assessors-value">0-5</span> assessors
                        </label>
                        <div class="slider-container">
                            <input type="range" min="0" max="5" value="5" class="slider" id="assessors-slider" 
                                   aria-label="Filter by number of assessors" 
                                   oninput="updateSliderValue('assessors', this.value); applyFilters()">
                        </div>
                    </div>

                    <div class="filter-group">
                        <label for="mode-slider">
                            Assessment Mode: <span class="slider-value" id="mode-value">All modes</span>
                        </label>
                        <div class="slider-container">
                            <input type="range" min="0" max="2" value="2" step="1" class="slider" id="mode-slider" 
                                   aria-label="Filter by assessment mode" 
                                   oninput="updateModeSlider(this.value); applyFilters()">
                            <div style="display: flex; justify-content: space-between; font-size: 0.85em; color: #666; margin-top: 5px;">
                                <span>Live in person</span>
                                <span>Live online</span>
                                <span>Recorded upload</span>
                            </div>
                        </div>
                    </div>

                    <div class="filter-results-count" id="filter-results-count" role="status" aria-live="polite">
                        Showing all assessments
                    </div>

                    <button class="reset-filters-btn" onclick="resetFilters()" aria-label="Reset all filters">
                        Reset All Filters
                    </button>
                </div>

                <div class="cards-grid" id="assessment-cards-container">
                    <!-- Cards will be dynamically generated here -->
                </div>
            </div>

            <!-- Individual Tab -->
            <div id="individual" class="tab-content">
                <h2>Individual Assessment Types</h2>
                <div class="cards-grid" id="individual-cards-container">
                    <!-- Individual cards will be generated here -->
                </div>
            </div>

            <!-- Group Tab -->
            <div id="group" class="tab-content">
                <h2>Group Assessment Types</h2>
                <div class="cards-grid" id="group-cards-container">
                    <!-- Group cards will be generated here -->
                </div>
            </div>

            <!-- Teamwork Tab -->
            <div id="teamwork" class="tab-content">
                <h2>Teamwork Assessment Types</h2>
                <div class="cards-grid" id="teamwork-cards-container">
                    <!-- Teamwork cards will be generated here -->
                </div>
            </div>

            <!-- Implementation Tab -->
            <div id="implementation" class="tab-content">
                <h2>Implementation Guide for AI-Enhanced Assessment</h2>
                
                <div class="guide-section">
                    <h3>Key Opportunities</h3>
                    <ul class="guide-list">
                        <li>Use marking time for face-to-face feedback sessions</li>
                        <li>AI assists project assessment via rubrics</li>
                        <li>Focus on individual understanding validation</li>
                        <li>Schedule oral defence in Weeks 13-14</li>
                        <li>Bring markers into learning spaces</li>
                        <li>Use contact hours for feedback rather than content delivery</li>
                    </ul>
                </div>

                <div class="guide-section">
                    <h3>Assessment Balance</h3>
                    <ul class="guide-list">
                        <li>Discipline content assessed by subject experts</li>
                        <li>Transferable skills assessed by employability team</li>
                        <li>ULOs assured per unit</li>
                        <li>Skills assured per trimester</li>
                        <li>Physical demonstration in labs</li>
                        <li>Oral demonstration of knowledge</li>
                    </ul>
                </div>

                <div class="guide-section">
                    <h3>Student Development Path</h3>
                    <ul class="guide-list">
                        <li>Build confidence progressively from Year 1</li>
                        <li>Start with formative assessment</li>
                        <li>Move to summative validation</li>
                        <li>Maintain human connection throughout</li>
                        <li>Support belonging & mentoring</li>
                        <li>Focus on employability outcomes</li>
                    </ul>
                </div>

                <div class="guide-section">
                    <h3>AI Integration Strategies</h3>
                    <ul class="guide-list">
                        <li>Students use AI to self-assess against rubrics</li>
                        <li>Free up time for individual oral validation</li>
                        <li>Focus on authentication OF learning</li>
                        <li>Maintain assessment FOR learning</li>
                        <li>Keep human in the learning journey</li>
                        <li>Use technology to enhance, not replace, interaction</li>
                    </ul>
                </div>

                <div class="highlight-box">
                    <h3>Core Principle</h3>
                    <p>
                        The goal is authentication OF learning while maintaining assessment FOR learning.
                        Interactive oral assessments ensure students can articulate their knowledge and skills
                        in an AI-enhanced world.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // JSON Data Structure with Support Materials
        const assessmentData = {
    "assessments": [
        {
            "id": "conference",
            "title": "Conference Presentation",
            "unitCode": "SLE323",
            "type": "mixed",
            "year": "year3",
            "totalWeight": 60,
            "metadata": {
                "cohort": 342,
                "numberOfGroups": 61,
                "groupSizeMin": 6,
                "groupSizeMax": 6,
                "mode": "person",
                "timeMinutes": 20,
                "timeBreakdown": "10 mins presentation; 5 mins questions; 5 mins oral defense",
                "numberOfAssessors": 2
            },
            "unitGradeDistribution": [
                {
                    "component": "Conference",
                    "percentage": 60,
                    "color": "#FF9300"
                },
                {
                    "component": "Case Studies",
                    "percentage": 40,
                    "color": "#E1E1E1"
                }
            ],
            "taskBreakdown": [
                {
                    "component": "Project Plan (S&P/Form)",
                    "percentage": 10,
                    "type": "group"
                },
                {
                    "component": "Abstract",
                    "percentage": 5,
                    "type": "group"
                },
                {
                    "component": "Research Presentation (S&P/Summ)",
                    "percentage": 35,
                    "type": "group"
                },
                {
                    "component": "Oral Defence (Q&A)",
                    "percentage": 10,
                    "type": "individual"
                }
            ],
            "supportMaterials": [
                "Project Plan Rubric - formative assessment with approval process",
                "Title must include 'Heart Rate'",
                "Background information requirement",
                "Aims and hypotheses must be testable and appropriate (not task lists)",
                "Methodology must be detailed with appropriate controls",
                "Timeline must include all major tasks with sufficient detail",
                "References required",
                "Feedback incorporated before project approval",
                "Projects must be approved or resubmitted within 3 days"
            ],
            "howToImplement": {
                "overview": "Third year students form teams, design and run their own research project and then present their results to their peers at an end of trimester conference. They are assessed by an assessment panel made up of academics from across the course (discipline experts), senior T&L from the School and Third Space.",
                "assessmentProcess": [
                    "Teams are assessed as a team – professionalism, cohesion, scientific communication and scientific procedures and analysis",
                    "Audience are invited to ask questions of the presenters",
                    "Assessment panel asks questions of each individual and provide an individual mark based on their oral response, against a rubric",
                    "Questions based on the scientific method, results and analysis (requires discipline experts)",
                    "Questions related to teamwork experience and social responsibility (e.g., how UN SDGs aligned/informed their project)"
                ],
                "note": "Initially students shared concerns about a task that counts to 60% of their mark, but feedback showed that once they understood the breakup of the marking and the support across the trimester they were complimentary of this unit."
            },
            "skillsAssessed": [
                "Research project design and execution",
                "Scientific communication",
                "Team collaboration and coordination",
                "Professional presentation skills",
                "Critical thinking and analysis",
                "Oral defence and Q&A abilities",
                "Social responsibility awareness"
            ]
        },
        {
            "id": "mootcourt",
            "title": "Moot Court",
            "unitCode": "SLE313",
            "type": "individual",
            "year": "year2",
            "totalWeight": 25,
            "metadata": {
                "cohort": 79,
                "numberOfGroups": 5,
                "groupSizeMin": 15,
                "groupSizeMax": 17,
                "mode": "online",
                "timeMinutes": 10,
                "timeBreakdown": "2 X 5 students: 15% peer, 85% tutor",
                "numberOfAssessors": 2
            },
            "unitGradeDistribution": [
                {
                    "component": "Moot Court",
                    "percentage": 25,
                    "color": "#007D98"
                },
                {
                    "component": "Online Tests (2x20%)",
                    "percentage": 40,
                    "color": "#58BCAF"
                },
                {
                    "component": "Crime Scene Analysis",
                    "percentage": 25,
                    "color": "#0B7161"
                },
                {
                    "component": "Case Assessment",
                    "percentage": 10,
                    "color": "#C74298"
                }
            ],
            "taskBreakdown": [
                {
                    "component": "Individual Oral Assessment",
                    "percentage": 100,
                    "type": "individual",
                    "description": "The Moot Court assessment is entirely based on the student's performance as a forensic expert witness, including their literature review, expert testimony, and professional presentation in the courtroom environment."
                }
            ],
            "supportMaterials": [
                "Unit Guide 2025 - comprehensive assessment framework",
                "Individual oral presentation as forensic expert witness",
                "15-minute two-way question session with staff acting as counsel",
                "Literature review required to explain and defend analysis",
                "Professional courtroom environment and procedures",
                "Assessment by Unit Chair and peer evaluation",
                "Scaffolding through weekly scientific journal analysis discussions",
                "Scheduled across Weeks 3-11 with sign-up sheet",
                "Moot Court Sign-up Sheet for scheduling 4-5 students per session",
                "Student volunteers can act as judges",
                "Aligned with other assessment deadlines (tests, practicals)"
            ],
            "howToImplement": {
                "overview": "Students take on the role of a professional forensic expert witness in a two-way question session between the student (acting as a forensic expert) and a staff member (acting as counsel). The unit brings together future frontiers in forensic science with a view to developing a student's career transition as they approach the final stages of their degree.",
                "topicsCovered": [
                    "Advanced crime scene examination",
                    "Illicit drugs and clandestine expert evidence",
                    "Role of the media",
                    "Fires and explosives",
                    "Ballistics and identification sciences",
                    "Quality assurance and professional ethics"
                ],
                "assessmentProcess": [
                    "Demonstration of technical, analytical, interpretation and communication skills within each of the three practicals (group assessment with individualised marks via peer review)",
                    "Students explain and defend their analysis of a given scenario through a literature review",
                    "Students deliver evidence in a professional courtroom environment",
                    "Assessment by Unit Chair and peers on professional presentation and quality of testimony"
                ]
            },
            "skillsAssessed": [
                "Expert witness testimony",
                "Professional courtroom presentation",
                "Technical and analytical skills",
                "Literature review and research",
                "Interpretation and communication",
                "Professional ethics and quality assurance",
                "Critical analysis and defence"
            ]
        },
        {
            "id": "pitch",
            "title": "Project Pitch",
            "unitCode": "SLE352",
            "type": "group",
            "year": "year2",
            "totalWeight": 40,
            "metadata": {
                "cohort": 98,
                "numberOfGroups": 29,
                "groupSizeMin": 3,
                "groupSizeMax": 6,
                "mode": "online",
                "timeMinutes": null,
                "timeBreakdown": "Data to be collected",
                "numberOfAssessors": null
            },
            "unitGradeDistribution": [
                {
                    "component": "Project Brief",
                    "percentage": 20,
                    "color": "#58BCAF"
                },
                {
                    "component": "Project Presentation",
                    "percentage": 20,
                    "color": "#0B7161"
                },
                {
                    "component": "Client Evaluation",
                    "percentage": 15,
                    "color": "#007D98"
                },
                {
                    "component": "Professional Portfolio",
                    "percentage": 45,
                    "color": "#E1E1E1"
                }
            ],
            "taskBreakdown": [
                {
                    "component": "Project Brief - Oral (Video) S&P/Form",
                    "percentage": 20,
                    "type": "group"
                },
                {
                    "component": "Project Presentation (S&P/Summ) + Q&A",
                    "percentage": 20,
                    "type": "group"
                }
            ],
            "supportMaterials": [
                "Team Project Brief Guidelines - comprehensive template with examples for project planning",
                "Marking Scheme (20%) covering five criteria",
                "Goals for the project (8 marks) - SMART format required, ~80 hours work per team member",
                "Personal statements (4 marks) - skills brought to project and skills to be developed",
                "Team obligations (4 marks) - meeting schedules and communication expectations",
                "Challenging situations strategies (4 marks) - identifying and addressing potential issues",
                "Video presentation professionalism (2 marks) - clarity, pacing, grammar, visuals",
                "PANOPTO Video Advice - 3-5 minute video summary of team project brief",
                "All team members must appear on camera (5 mark penalty if not)",
                "Submit video link (not file) to avoid size issues",
                "Template and declaration form provided for team and client signatures"
            ],
            "howToImplement": {
                "overview": "A Professional Practice core unit within the Bachelor of Science. In this unit, students will apply scientific knowledge, processes and techniques in a team-based project and communicate the value of science to a range of audiences.",
                "keyElements": [
                    "Team-based scientific project",
                    "Video brief for project planning",
                    "Final presentation to diverse audience (clients, academics, fellow students)",
                    "Audience Q&A session",
                    "Peer review components (formative and summative)",
                    "Students articulate project importance and outcomes at appropriate level for diverse audience"
                ]
            },
            "skillsAssessed": [
                "Team collaboration and project management",
                "Scientific communication to diverse audiences",
                "Video presentation skills",
                "Professional pitch delivery",
                "Q&A and audience engagement",
                "Peer review and feedback",
                "Applied scientific knowledge"
            ]
        },
        {
            "id": "poster",
            "title": "Poster Conference",
            "unitCode": "SLE361",
            "type": "individual",
            "year": "year3",
            "totalWeight": 20,
            "metadata": {
                "cohort": 74,
                "numberOfGroups": 28,
                "groupSizeMin": 0,
                "groupSizeMax": 0,
                "mode": "person",
                "timeMinutes": null,
                "timeBreakdown": "Data to be collected",
                "numberOfAssessors": null
            },
            "unitGradeDistribution": [
                {
                    "component": "Written Tests (2x20%)",
                    "percentage": 40,
                    "color": "#007D98"
                },
                {
                    "component": "Poster Conference",
                    "percentage": 20,
                    "color": "#58BCAF"
                },
                {
                    "component": "Practicals",
                    "percentage": 40,
                    "color": "#E1E1E1",
                    "breakdown": [
                        {
                            "component": "Pre-lab questions",
                            "percentage": 5
                        },
                        {
                            "component": "Lab reports",
                            "percentage": 35
                        }
                    ]
                }
            ],
            "taskBreakdown": [
                {
                    "component": "Individual Poster Presentation",
                    "percentage": 100,
                    "type": "individual",
                    "description": "Students submit poster online and bring a printed version to the poster presentation session. Students present and answer questions from staff and students who attend the poster conference."
                }
            ],
            "supportMaterials": [
                "No support materials currently available in Drive folder"
            ],
            "skillsAssessed": [
                "Visual communication",
                "Scientific communication",
                "Synthesis of complex information",
                "Public speaking",
                "Q&A skills"
            ],
            "howToImplement": {
                "overview": "Students design and create a scientific poster presenting their research or practical work. They submit the poster online and bring a printed version to a poster conference session where they present their work to staff and fellow students.",
                "keyElements": [
                    "Poster design and visual communication",
                    "Scientific content synthesis",
                    "Online submission for assessment",
                    "Printed poster for conference presentation",
                    "Interactive Q&A with assessors and peers",
                    "Conference-style assessment environment"
                ],
                "assessmentProcess": [
                    "Students create poster based on their research/practical work",
                    "Submit poster online by deadline",
                    "Print poster for conference session",
                    "Present poster at designated conference time",
                    "Answer questions from staff assessors",
                    "Engage with peer questions and feedback",
                    "Assessment based on poster quality and presentation skills"
                ]
            }
        },
        {
            "id": "debate",
            "title": "Debate",
            "unitCode": "SLE357",
            "type": "group",
            "year": "year3",
            "totalWeight": 20,
            "metadata": {
                "cohort": 308,
                "numberOfGroups": 68,
                "groupSizeMin": 3,
                "groupSizeMax": 3,
                "mode": "upload",
                "timeMinutes": 4,
                "timeBreakdown": "4 turn-taking; S&P assessment in FF + reflection",
                "numberOfAssessors": null
            },
            "unitGradeDistribution": [
                {
                    "component": "Class Tests (2x15%)",
                    "percentage": 30,
                    "color": "#007D98"
                },
                {
                    "component": "Debate",
                    "percentage": 20,
                    "color": "#58BCAF"
                },
                {
                    "component": "Post-prac Analyses (4x5%)",
                    "percentage": 20,
                    "color": "#C74298"
                },
                {
                    "component": "Lab Skills Challenge",
                    "percentage": 30,
                    "color": "#E1E1E1"
                }
            ],
            "taskBreakdown": [
                {
                    "component": "Presentation Quality",
                    "percentage": 15,
                    "type": "group"
                },
                {
                    "component": "Teamwork Reflection (500 words)",
                    "percentage": 5,
                    "type": "individual"
                }
            ],
            "supportMaterials": [
                "No support materials currently available in Drive folder"
            ],
            "howToImplement": {
                "format": "Groups choose from provided topics. One student argues for, one against, third is moderator.",
                "requirements": "Evidence-based arguments using scientific articles on controversial cell biology topics and societal impact.",
                "assessment": "15% presentation quality (group), 5% teamwork reflection (individual).",
                "detailedOverview": "Groups choose from a provided list of controversial topics in cell biology. One student argues for, another argues against, and the third acts as moderator providing background and conclusion. Students discuss controversial topics and their impact on society while demonstrating communication and teamwork skills."
            },
            "skillsAssessed": [
                "Argumentation skills",
                "Research abilities",
                "Quick thinking",
                "Team strategy"
            ]
        },
        {
            "id": "teamchallenge",
            "title": "Team Challenge - Authentic Teamwork Assessment",
            "unitCode": "Various",
            "type": "teamwork",
            "year": "year1-3",
            "totalWeight": 50,
            "metadata": {
                "cohort": null,
                "numberOfGroups": null,
                "groupSizeMin": 3,
                "groupSizeMax": 5,
                "mode": "person",
                "timeMinutes": 27,
                "timeBreakdown": "25-30 minutes per team for supervised live challenge",
                "numberOfAssessors": 2
            },
            "unitGradeDistribution": [
                {
                    "component": "Project Proposal",
                    "percentage": 15,
                    "color": "#58BCAF"
                },
                {
                    "component": "Final Report",
                    "percentage": 10,
                    "color": "#0B7161"
                },
                {
                    "component": "Team Challenge (Live)",
                    "percentage": 25,
                    "color": "#C74298"
                },
                {
                    "component": "Other Assessments",
                    "percentage": 50,
                    "color": "#E1E1E1"
                }
            ],
            "taskBreakdown": [
                {
                    "component": "Project Proposal (Week 4)",
                    "percentage": 15,
                    "type": "group",
                    "description": "Comprehensive scenario-based project proposal. Good feedback provided to ensure success. Group Skills Factor monitored via FeedbackFruits. Returned Week 6."
                },
                {
                    "component": "Final Report (Week 10)",
                    "percentage": 10,
                    "type": "group",
                    "description": "Light touch marking - submitted before study week to allow team preparation for challenge. Returned Week 11."
                },
                {
                    "component": "Team Challenge (Live Assessment)",
                    "percentage": 25,
                    "type": "team+individual",
                    "description": "Live interactive oral assessment where teams respond to ONE of 8 possible scenario challenges by updating their work while being observed. Individual questions assess each student's contribution and understanding."
                }
            ],
            "framework": [
                "Week 1: Introduction to Team Challenge structure and clear instructions on how it works",
                "Week 1: Team Formation & Team Agreement (signed by all members with 'firing' stipulations)",
                "Week 4: Project Proposal (15%) - with peer review and Group Skills Factor monitoring",
                "Week 5: Field trip (attendance required or grounds for removal)",
                "Week 6: Project Proposal feedback returned to ensure success",
                "Week 7: Practice Workshop (2 hours) - 1hr Team Challenge role play + 1hr data analysis practice",
                "Week 10: Final Report (10%) - light touch marking with peer review",
                "Week 11: Final Report returned - students use study week to prepare for Team Challenge",
                "Study Week: Team preparation for 8 possible scenario challenges",
                "Team Challenge (25%) - Live assessment with scenario adaptation and individual questions"
            ],
            "supportMaterials": [
                "Team Agreement template with 'firing' stipulations (to be signed by all members)",
                "FeedbackFruits Self and Peer Review setup guide with Group Skills Factor (GSF) threshold of 0.6",
                "Week 1 orientation materials: Clear instructions document explaining structure and trimester engagement expectations",
                "Week 7 practice workshop package",
                "8 scenario challenge templates (customizable per discipline - see Example Challenges section)",
                "Assessment rubrics: Rubric 1 - GLO1 Discipline Knowledge (for discipline expert marker)",
                "Assessment rubrics: Rubric 2 - GLOs 2,4,5,7 Transferable Skills using Values-type rubrics (AAC&U VALUE: https://www.aacu.org/value/rubrics) (for transferable skills marker)",
                "Flowchart for team member removal/'firing' process with decision points throughout trimester",
                "Room booking template: 30-min blocks per team with space for 3-5 students + 2 assessors",
                "Team Challenge logistics checklist: technology requirements, materials teams should bring, concurrent room options"
            ],
            "exampleChallenges": {
                "overview": "Teams are provided with all 8 possible scenario challenges in advance and must prepare for each one. During the live Team Challenge assessment, they receive ONE scenario and must adapt their project work in real-time.",
                "architectureExamples": [
                    "Scenario 1: Client changes project location from [Original City] to another location in Victoria - adapt all site-specific elements",
                    "Scenario 2: Client changes scope from single-story to double-story residential home - modify all structural and design elements",
                    "Scenario 3: Budget reduced by 30% - reprioritize design elements and justify trade-offs",
                    "Scenario 4: Timeline compressed from 18 months to 12 months - create new project schedule and identify critical path changes",
                    "Scenario 5: New sustainability requirement: achieve 7-star energy rating - integrate sustainable design features",
                    "Scenario 6: Additional stakeholder: Heritage Victoria approval now required - address heritage considerations",
                    "Scenario 7: Site constraint: Bushfire Attack Level (BAL) rating upgraded - incorporate bushfire protection measures",
                    "Scenario 8: Client adds requirement for universal accessibility throughout - redesign for full accessibility compliance"
                ],
                "scienceResearchExamples": [
                    "Scenario 1: Sample size requirement changed from n=30 to n=100 - recalculate power analysis and discuss feasibility",
                    "Scenario 2: Control group methodology questioned by ethics committee - redesign experimental controls",
                    "Scenario 3: Primary measurement instrument unavailable - identify alternative methodology and justify",
                    "Scenario 4: Budget for reagents cut by 50% - prioritize experiments and revise methodology",
                    "Scenario 5: Timeline extended - add additional experimental phase and statistical analyses",
                    "Scenario 6: Peer reviewer questions validity of proposed analysis - defend or revise statistical approach",
                    "Scenario 7: New literature published contradicting your hypothesis - integrate findings and adjust approach",
                    "Scenario 8: Collaborating lab withdraws - revise project scope and redistribute responsibilities"
                ],
                "businessMarketingExamples": [
                    "Scenario 1: Target demographic shifts from Millennials to Gen Z - revise entire marketing strategy",
                    "Scenario 2: Budget increased by 40% - expand campaign across additional channels with justification",
                    "Scenario 3: Competitor launches similar campaign - differentiate your approach and messaging",
                    "Scenario 4: Platform restriction: Social media campaign must now exclude Instagram - redistribute budget and strategy",
                    "Scenario 5: Timeline compressed from 6-month to 3-month campaign - accelerate rollout and identify priorities",
                    "Scenario 6: Client adds requirement for influencer partnerships - integrate influencer strategy with budget allocation",
                    "Scenario 7: New data shows your target audience prefers video over static content - pivot content strategy",
                    "Scenario 8: Regulatory change: new advertising standards apply to your industry - ensure compliance and adjust messaging"
                ],
                "engineeringDesignExamples": [
                    "Scenario 1: Material specification changed - primary material no longer available, select alternative and justify",
                    "Scenario 2: Load requirement increased by 25% - recalculate structural elements and safety factors",
                    "Scenario 3: Manufacturing constraint: tolerances must be relaxed - identify impact and redesign as needed",
                    "Scenario 4: Sustainability requirement added: design must use 50% recycled materials - source materials and justify selections",
                    "Scenario 5: Cost constraint: reduce manufacturing cost by 20% - identify areas for cost reduction without compromising function",
                    "Scenario 6: New safety standard applies - incorporate additional safety features and demonstrate compliance",
                    "Scenario 7: Client requests modular design for easier maintenance - redesign for modularity and document trade-offs",
                    "Scenario 8: Environmental condition changed: design must now withstand marine environment - address corrosion and environmental factors"
                ],
                "howToCreate": [
                    "Identify the 8 core learning outcomes or project dimensions students must master",
                    "Design each scenario to test a different learning outcome or combination of outcomes",
                    "Ensure scenarios require substantive adaptation, not just minor tweaks",
                    "Make scenarios realistic - drawn from actual professional challenges in the discipline",
                    "Calibrate difficulty: challenging but achievable within the 25-30 minute timeframe",
                    "Provide enough specificity that students can prepare meaningfully",
                    "Ensure scenarios are distinct enough that preparing for one helps with others (encourages deep learning)",
                    "Test scenarios with colleagues: can they envision observable student responses?"
                ]
            },
            "howToImplement": {
                "overview": "The Team Challenge is an innovative approach for implementing collaborative team-based learning with embedded Assurance of Learning (AoL). It provides an evidence base for grading individual teamwork effectiveness, facilitates genuine teamwork, and fosters deep learning among all team members. This assessment addresses common teamwork inequities by requiring teams to adapt their project work in real-time during a live assessment.",
                "theProblem": [
                    "Teamwork is often distributed inequitably in group projects (anecdotal evidence from students and staff)",
                    "Difficult to assure the learning outcomes for each group member across all learning outcomes examined by the group task",
                    "Hard to determine individual contributions in uploaded group work (not easy to tell 'who did what')",
                    "Students may not engage deeply with all aspects of the project",
                    "Cannot determine how much students have actually learned from the group task"
                ],
                "theSolution": [
                    "Teams complete a comprehensive, scenario-based group task (e.g., architecture design project, case study report)",
                    "Project components submitted online as usual (15% proposal Week 4 + 10% final report Week 10)",
                    "Teams then attend live Team Challenge assessment bringing ALL project materials (digital files, laptops, notes, etc.)",
                    "In the assessment room, teams receive ONE scenario challenge from 8 possible scenarios provided in advance",
                    "Teams must adapt/update their work in response to the scenario while working 'out loud'",
                    "Assessors observe individual contributions in real-time - can see who contributes and in what way",
                    "Time built in for individual questions to each student about their contribution to the updated work",
                    "This captures both discipline knowledge and graduate learning outcomes in an observable way"
                ],
                "assessmentProcess": [
                    "Teams enter room with all project materials (digital files, laptops, notes, etc.)",
                    "Scenario challenge delivered - 2 minutes for team to read and process",
                    "Team works 'out loud' to produce updated artifact/report/annotated version of their original work",
                    "Assessors observe who contributes and how they contribute to changes",
                    "Individual questions asked to each student about the updates and their contribution",
                    "Assessment duration: 25-30 minutes per team total",
                    "Two markers (discipline expert + transferable skills expert) assess using separate rubrics",
                    "Markers consult and verify assessments together after each challenge"
                ],
                "managingStudentStress": [
                    "New structure introduced in Week 1 with very clear instructions",
                    "Students provided with clear explanation of how assessment depends on trimester engagement",
                    "Week 7: 2-hour practice workshop (1hr Team Challenge role play + 1hr data analysis practice)",
                    "Students provided with all 8 possible scenario challenges in advance",
                    "The ONE challenge they receive won't be a complete surprise - they can prepare for all 8",
                    "Clear link established between trimester engagement and assessment success",
                    "Study week provided after final report (Week 11) for Team Challenge preparation",
                    "Good feedback on Week 4 proposal ensures teams are set up for success"
                ],
                "weightOfMarks": [
                    "15% Project Proposal - due Week 4, returned Week 6 with good feedback to ensure success",
                    "10% Final Report - light touch marking, due Week 10, returned Week 11",
                    "25% Team Challenge - live assessment after study week preparation period",
                    "Total: 50% of unit grade for team-based assessment components"
                ],
                "teamworkAccountability": [
                    "Team Agreement signed at start of trimester with 'firing' stipulations by all team members",
                    "FeedbackFruits Self and Peer Review tasks at multiple checkpoints throughout trimester",
                    "Group Skills Factor (GSF) monitored - threshold of 0.6 (below = grounds for removal)",
                    "Grounds for being 'fired' from team: GSF below 0.6 for Project Proposal work; not completing self and peer review; not attending Week 5 field trip without team approval; not attending Week 7 workshop without team approval; not completing agreed component of final report (GSF below 0.6); not completing self and peer review for final report",
                    "If fired from group, student is NOT eligible to sit the Team Challenge (loses 25% of unit grade)",
                    "Alternative assessment provided: individual oral exam or written alternative with penalty structure",
                    "Flowchart available showing decision points for team member removal process"
                ],
                "kaysConserns": [
                    "Q: What will rubrics look like? How many people required to mark?",
                    "A: Two rubrics and two markers per team. Opportunity to consult and verify with each other at end of challenge. Students assessed individually on Team Challenge performance.",
                    "  • Rubric 1: GLO1 (Discipline Knowledge) - ONE discipline expert marker",
                    "  • Rubric 2: GLOs 2, 4, 5, 7 (Transferable Skills using Values-type rubrics) - ONE expert transferable skills marker",
                    "",
                    "Q: How do we manage student stress with this new form of assessment?",
                    "A: Multiple strategies to reduce stress and build confidence:",
                    "  • New structure introduced clearly in Week 1",
                    "  • Very clear instructions on how it works and importance of trimester engagement",
                    "  • Week 7: 2-hour practice workshop (1hr Team Challenge role play + 1hr data analysis)",
                    "  • All 8 possible scenario challenges provided in advance so students can prepare",
                    "  • Study week provided for final preparation after reports returned",
                    "",
                    "Q: What about the weight of marks?",
                    "A: Settled on balanced distribution:",
                    "  • 15% Project Proposal (Week 4, returned Week 6) - good feedback to ensure success",
                    "  • 10% Final Report (Week 10, returned Week 11) - light touch marking",
                    "  • 25% Team Challenge (live assessment after study week)",
                    "",
                    "Q: Can we 'fire' non-performing team members?",
                    "A: Yes - innovative accountability system with clear grounds for removal:",
                    "  • Flowchart provided with decision points throughout trimester",
                    "  • FeedbackFruits Self and Peer Review at multiple checkpoints",
                    "  • Group Skills Factor monitoring (below 0.6 = grounds for removal)",
                    "  • Team Agreement signed at start includes 'firing' stipulations",
                    "  • If fired, student NOT eligible for Team Challenge (25% of grade)"
                ]
            },
            "skillsAssessed": [
                "GLO1: Discipline-specific knowledge and problem-solving",
                "GLO2: Communication - working 'out loud' and articulating decisions in real-time",
                "GLO4: Critical thinking - adapting to unexpected scenario challenges",
                "GLO5: Problem solving - real-time collaborative solution development",
                "GLO7: Self-awareness - individual contribution to team outcomes and ability to reflect on role",
                "Authentic team collaboration under pressure and time constraints",
                "Adaptive thinking and flexibility in response to new scenarios",
                "Individual accountability within team structures - demonstrating personal mastery",
                "Real-time collaborative construction and adaptation of work products",
                "Deep learning across full suite of learning outcomes - preparing for 8 scenarios requires comprehensive understanding",
                "Resilience and composure in high-stakes assessment situations",
                "Integration of feedback - applying insights from Week 6 and Week 11 feedback during live challenge",
                "Time management and prioritization under constrained conditions",
                "Peer collaboration - leveraging diverse team strengths effectively",
                "Articulation of technical concepts to assessors during individual questioning",
                "Evidence-based decision making - justifying adaptations with disciplinary reasoning"
            ]
        }
    ]
};

        // Function to generate assessment card HTML
        function generateAssessmentCard(assessment, tabName = "overview") {
            const m = assessment.metadata;
            const modeText = m.mode === 'person' ? 'Live in person' : 
                           m.mode === 'online' ? 'Live online' : 
                           m.mode === 'upload' ? 'Recorded upload' : '❓';
            
            const groupSizeText = m.groupSizeMin === 0 && m.groupSizeMax === 0 ? '👤 Individual' :
                                m.groupSizeMin === m.groupSizeMax ? `${m.groupSizeMin}-${m.groupSizeMax}` :
                                `${m.groupSizeMin}-${m.groupSizeMax}`;
            
            const typeText = assessment.type === 'mixed' ? 'Group + Individual' :
                           assessment.type === 'teamwork' ? 'Group + Individual' :
                           assessment.type.charAt(0).toUpperCase() + assessment.type.slice(1);
            
            const yearText = assessment.year === 'year2-3' ? 'Year 2-3' :
                           assessment.year === 'year1-3' ? 'Year 1-3' :
                           assessment.year.replace('year', 'Year ');
            
            const unitGradeItems = assessment.unitGradeDistribution ? 
                assessment.unitGradeDistribution.map(comp => `${comp.component}: ${comp.percentage}%`) : [];
            const unitGradeList = renderList(unitGradeItems, {
                style: 'margin: 5px 0 0 18px;',
                itemStyle: 'margin-bottom: 4px; color: #666; font-size: 0.9em;'
            });

            let html = `
                <div class="assessment-card" 
                     data-type="${assessment.type}" 
                     data-year="${assessment.year}"
                     data-cohort="${m.cohort || -1}"
                     data-groupmin="${m.groupSizeMin || -1}"
                     data-groupmax="${m.groupSizeMax || -1}"
                     data-groups="${m.numberOfGroups || -1}"
                     data-minutes="${m.timeMinutes || -1}"
                     data-assessors="${m.numberOfAssessors || -1}"
                     data-mode="${m.mode || ''}">
                    <div class="card-header ${assessment.type}">
                        <div class="card-title">${assessment.title}</div>
                        <div class="card-type">${typeText} • ${yearText} • ${assessment.totalWeight}% • ${assessment.unitCode}</div>
                    </div>
                    <div class="card-body">
                        <div class="card-section">
                            <h4>Unit Grade Distribution</h4>
                            <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 20px;">
                                <canvas id="${assessment.id}UnitChart-${tabName}" width="120" height="120" style="max-width: 120px;"></canvas>
                                <div style="flex: 1;">
                                    <p style="color: #2C3E50; font-weight: bold; margin-bottom: 5px;">Total Unit Assessment</p>
                                    ${unitGradeList}
                                </div>
                            </div>
                        </div>
                        
                        <div class="card-section">
                            <h4>${assessment.title} Task Breakdown: ${assessment.totalWeight}%</h4>
                            ${generateTaskBreakdown(assessment)}
                        </div>
                        
                        <div class="assessment-metadata" style="display: flex; flex-wrap: wrap; gap: 15px; padding: 20px; background: #f8f9fa; border-radius: 10px; margin-top: 20px; font-size: 0.95em;">
                            <div class="metadata-item" style="flex: 1; min-width: 150px; order: 1;">
                                <span style="margin-right: 5px;" title="Cohort size">👥</span>
                                <strong>${m.cohort || '❓'}</strong> ${m.cohort ? 'students' : ''}
                            </div>
                            <div class="metadata-item" style="flex: 1; min-width: 150px; order: 2;">
                                <span style="margin-right: 5px;" title="Number of groups">📊</span>
                                <strong>${m.numberOfGroups || '❓'}</strong> ${m.numberOfGroups ? 'groups' : ''}
                            </div>
                            <div class="metadata-item" style="flex: 1; min-width: 150px; order: 3;">
                                <span style="margin-right: 5px;" title="Group size range">👪</span>
                                <strong>${groupSizeText}</strong> ${groupSizeText !== '👤 Individual' && m.groupSizeMax > 0 ? 'members' : ''}
                            </div>
                            <div class="metadata-item" style="flex: 1; min-width: 180px; order: 4;">
                                <span style="margin-right: 5px;" title="Assessment mode">💻</span>
                                <strong>${modeText}</strong>
                            </div>
                            <div class="metadata-item" style="flex: 1; min-width: 150px; order: 5;">
                                <span style="margin-right: 5px;" title="Total time required" class="time-tooltip">⏱️</span>
                                <strong>${m.timeMinutes || '❓'}</strong> ${m.timeMinutes ? 'min' : ''}
                                ${m.timeBreakdown ? `<div class="tooltip-content" style="display: none;">${m.timeBreakdown}</div>` : ''}
                            </div>
                            <div class="metadata-item" style="flex: 1; min-width: 150px; order: 6;">
                                <span style="margin-right: 5px;" title="Number of assessors">👨‍🏫</span>
                                <strong>${m.numberOfAssessors || '❓'}</strong> ${m.numberOfAssessors ? 'assessors' : ''}
                            </div>
                        </div>
                        
                        ${assessment.howToImplement ? `
                        <button class="how-to-btn" onclick="toggleHowTo('${assessment.id}')">
                            How To Implement ▼
                        </button>
                        <div id="${assessment.id}-howto" class="how-to-content" style="display: none;">
                            ${generateHowToImplement(assessment.howToImplement, assessment.framework)}
                        </div>
                        ` : ''}

                        ${assessment.exampleChallenges ? `
                        <button class="how-to-btn" onclick="toggleChallenges('${assessment.id}')" style="background: #FF9300; margin-top: 10px;">
                            🎲 Example Challenges ▼
                        </button>
                        <div id="${assessment.id}-challenges" class="how-to-content" style="display: none;">
                            ${generateExampleChallenges(assessment.exampleChallenges)}
                        </div>
                        ` : ''}

                        
                        
                        ${assessment.skillsAssessed ? `
                        <button class="skills-btn" onclick="toggleSkills('${assessment.id}')">
                            🎯 Skills Assessed/Developed ▼
                        </button>
                        <div id="${assessment.id}-skills" class="skills-content" style="display: none;">
                            <ul class="skills-list" style="margin-top: 15px;">
                                ${assessment.skillsAssessed.map(skill => `<li>${skill}</li>`).join('')}
                            </ul>
                        </div>
                        ` : ''}
                        
                        ${assessment.supportMaterials ? `
                        <button class="support-btn" onclick="toggleSupport('${assessment.id}')">
                            📚 Support Materials ▼
                        </button>
                        <div id="${assessment.id}-support" class="support-content" style="display: none;">
                            ${generateSupportMaterials(assessment.supportMaterials)}
                        </div>
                        ` : ''}
                    </div>
                </div>
            `;
            
            return html;
        }

        function generateTaskBreakdown(assessment) {
            if (assessment.taskBreakdown.length === 1 && assessment.taskBreakdown[0].description) {
                return `
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #${assessment.type === 'individual' ? '007D98' : '58BCAF'};">
                        <p style="color: #363635; font-weight: bold; margin-bottom: 8px;">${assessment.taskBreakdown[0].percentage}% ${assessment.taskBreakdown[0].component}</p>
                        <p style="color: #666; font-size: 0.9em; margin: 0;">${assessment.taskBreakdown[0].description}</p>
                    </div>
                `;
            } else {
                const borderColor = assessment.type === 'group' ? '#58BCAF' : assessment.type === 'teamwork' ? '#C74298' : '#FF9300';
                const hasDescriptions = assessment.taskBreakdown.some(task => task.description);
                
                if (hasDescriptions) {
                    return `
                        <div style="display: flex; flex-direction: column; gap: 15px;">
                            ${assessment.taskBreakdown.map(task => `
                                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid ${borderColor};">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                        <p style="color: #363635; font-weight: bold; margin: 0;">${task.component}</p>
                                        <div style="display: flex; gap: 10px; align-items: center;">
                                            <span style="background: #363635; color: white; padding: 4px 12px; border-radius: 12px; font-weight: bold;">${task.percentage}%</span>
                                            <span style="background: ${task.type === 'individual' ? '#007D98' : task.type === 'team+individual' ? '#C74298' : '#58BCAF'}; color: white; padding: 4px 12px; border-radius: 12px; font-size: 0.85em; font-weight: bold;">${task.type === 'team+individual' ? 'Team+Ind' : task.type.charAt(0).toUpperCase() + task.type.slice(1)}</span>
                                        </div>
                                    </div>
                                    ${task.description ? `<p style="color: #666; font-size: 0.9em; margin: 0;">${task.description}</p>` : ''}
                                </div>
                            `).join('')}
                        </div>
                    `;
                } else {
                    return `
                        <table style="width: 100%; border-collapse: collapse; font-size: 0.9em;">
                            <tr style="background: #f8f9fa;">
                                <th style="padding: 8px; text-align: left; border-bottom: 2px solid ${borderColor};">Component</th>
                                <th style="padding: 8px; text-align: center; border-bottom: 2px solid ${borderColor};">%</th>
                                <th style="padding: 8px; text-align: center; border-bottom: 2px solid ${borderColor};">Type</th>
                            </tr>
                            ${assessment.taskBreakdown.map((task, index) => `
                                <tr>
                                    <td style="padding: 8px; ${index < assessment.taskBreakdown.length - 1 ? 'border-bottom: 1px solid #ecf0f1;' : ''}">${task.component}</td>
                                    <td style="padding: 8px; text-align: center; font-weight: bold; ${index < assessment.taskBreakdown.length - 1 ? 'border-bottom: 1px solid #ecf0f1;' : ''}">${task.percentage}%</td>
                                    <td style="padding: 8px; text-align: center; ${index < assessment.taskBreakdown.length - 1 ? 'border-bottom: 1px solid #ecf0f1;' : ''}">
                                        <span style="background: ${task.type === 'individual' ? '#007D98' : task.type === 'team+individual' ? '#C74298' : '#58BCAF'}; color: white; padding: 2px 8px; border-radius: 10px; font-size: 0.85em;">${task.type === 'team+individual' ? 'Team+Ind' : task.type.charAt(0).toUpperCase() + task.type.slice(1)}</span>
                                    </td>
                                </tr>
                            `).join('')}
                        </table>
                    `;
                }
            }
        }

        function renderList(items, options = {}) {
            if (!items || items.length === 0) return '';
            
            const {
                tag = 'ul',
                className = '',
                style = '',
                itemStyle = ''
            } = options;
            
            const listTag = tag === 'ol' ? 'ol' : 'ul';
            const classAttr = className ? ` class="${className}"` : '';
            const styleAttr = style ? ` style="${style}"` : '';
            const itemStyleAttr = itemStyle ? ` style="${itemStyle}"` : '';
            
            let html = `<${listTag}${classAttr}${styleAttr}>`;
            items.forEach(item => {
                html += `<li${itemStyleAttr}>${item}</li>`;
            });
            html += `</${listTag}>`;
            
            return html;
        }

        function generateSupportMaterials(materials) {
            if (!materials || materials.length === 0) return '';
            
            return renderList(materials, {
                className: 'skills-list',
                style: 'margin-top: 15px;',
                itemStyle: ''
            });
        }

        function renderKaysConcerns(items) {
            if (!items || items.length === 0) return '';
            
            let html = `<div style="margin-top: 15px;">`;
            html += `<p style="margin-bottom: 8px; color: #363635;"><strong>FAQ</strong></p>`;
            
            let listOpen = false;
            
            items.forEach(item => {
                const trimmed = item.trim();
                
                if (trimmed === '') {
                    if (listOpen) {
                        html += '</ul>';
                        listOpen = false;
                    }
                    return;
                }
                
                if (trimmed.startsWith('Q:')) {
                    if (listOpen) {
                        html += '</ul>';
                        listOpen = false;
                    }
                    const questionText = trimmed.slice(2).trim();
                    html += `<p style="margin-top: 12px; margin-bottom: 4px; color: #363635;"><strong>Q:</strong> ${questionText}</p>`;
                    return;
                }
                
                if (trimmed.startsWith('A:')) {
                    if (listOpen) {
                        html += '</ul>';
                        listOpen = false;
                    }
                    const answerText = trimmed.slice(2).trim();
                    html += `<p style="margin-left: 10px; margin-bottom: 6px; color: #555;"><strong>A:</strong> ${answerText}</p>`;
                    return;
                }
                
                if (trimmed.startsWith('•')) {
                    if (!listOpen) {
                        html += `<ul style="margin: 4px 0 12px 25px;">`;
                        listOpen = true;
                    }
                    const bulletText = trimmed.slice(1).trim();
                    html += `<li style="margin-bottom: 6px; color: #555;">${bulletText}</li>`;
                    return;
                }
                
                if (listOpen) {
                    html += '</ul>';
                    listOpen = false;
                }
                
                html += `<p style="margin-left: 10px; margin-bottom: 6px; color: #555;">${trimmed}</p>`;
            });
            
            if (listOpen) {
                html += '</ul>';
            }
            
            html += `</div>`;
            return html;
        }

        function generateHowToImplement(howTo, framework) {
            if (!howTo) return '';
            
            const sections = [];
            const defaultListStyle = {
                style: 'margin: 8px 0 16px 25px;',
                itemStyle: 'margin-bottom: 6px; color: #555;'
            };
            
            const addListSection = (title, items, options = {}) => {
                if (!items || items.length === 0) return;
                const titleText = title.endsWith(':') ? title : `${title}:`;
                sections.push([
                    `<div style="margin-top: 15px;">`,
                    `<p style="margin-bottom: 8px; color: #363635;"><strong>${titleText}</strong></p>`,
                    renderList(items, {
                        tag: options.tag || 'ul',
                        style: options.style || defaultListStyle.style,
                        itemStyle: options.itemStyle || defaultListStyle.itemStyle
                    }),
                    `</div>`
                ].join(''));
            };
            
            const addLabeledParagraph = (label, content) => {
                if (!content) return;
                sections.push(`<p style="margin-top: 15px; color: #555;"><strong>${label}:</strong> ${content}</p>`);
            };
            
            if (howTo.overview) {
                sections.push(`<p style="margin-bottom: 16px;">${howTo.overview}</p>`);
            }
            
            if (framework && framework.length > 0) {
                const weekItems = framework.filter(item => /^Week \d+:/i.test(item))
                    .map(item => item.replace(/^Week \d+:\s*/, ''));
                const finalItems = framework.filter(item => item.startsWith('Study Week') || item.startsWith('Team Challenge'))
                    .map(item => item.startsWith('Team Challenge') ? `Exam Week: ${item}` : item);
                
                const frameworkSections = [
                    `<div style="margin-top: 15px;">`,
                    `<p style="margin-bottom: 8px; color: #363635;"><strong>Implementation by Week:</strong></p>`
                ];
                
                if (weekItems.length > 0) {
                    frameworkSections.push(renderList(weekItems, {
                        tag: 'ol',
                        style: defaultListStyle.style,
                        itemStyle: defaultListStyle.itemStyle
                    }));
                }
                
                if (finalItems.length > 0) {
                    frameworkSections.push(renderList(finalItems, {
                        style: 'margin: 0 0 16px 25px;',
                        itemStyle: defaultListStyle.itemStyle
                    }));
                }
                
                frameworkSections.push(`</div>`);
                sections.push(frameworkSections.join(''));
            }
            
            addListSection('The Problem', howTo.theProblem, defaultListStyle);
            addListSection('The Solution', howTo.theSolution, defaultListStyle);
            addListSection('Scenario Examples', howTo.scenarioExamples, defaultListStyle);
            addListSection('Marking Structure', howTo.markingStructure, defaultListStyle);
            addListSection('Managing Student Stress', howTo.managingStudentStress, defaultListStyle);
            addListSection('Weight of Marks', howTo.weightOfMarks, defaultListStyle);
            addListSection('Teamwork Accountability & "Firing" Process', howTo.teamworkAccountability, defaultListStyle);
            addListSection('Topics Covered', howTo.topicsCovered, defaultListStyle);
            addListSection('Key Elements', howTo.keyElements, defaultListStyle);
            addListSection('Key Features', howTo.keyFeatures && howTo.keyFeatures.map(feature => `<strong>${feature.name}:</strong> ${feature.description}`), defaultListStyle);
            addListSection('Assessment Process', howTo.assessmentProcess, defaultListStyle);
            addListSection('Assessment Benefits', howTo.assessmentBenefits, defaultListStyle);
            addListSection('Tools', howTo.tools, defaultListStyle);
            
            if (howTo.kaysConserns && howTo.kaysConserns.length > 0) {
                sections.push(renderKaysConcerns(howTo.kaysConserns));
            }
            
            addLabeledParagraph('Format', howTo.format);
            addLabeledParagraph('Requirements', howTo.requirements);
            addLabeledParagraph('Assessment', howTo.assessment);
            
            if (howTo.detailedOverview) {
                sections.push(`<p style="margin-top: 15px; color: #555;">${howTo.detailedOverview}</p>`);
            }
            
            if (howTo.note) {
                sections.push(`<p style="margin-top: 15px; color: #555;"><em>Note: ${howTo.note}</em></p>`);
            }
            
            if (sections.length === 0) return '';
            
            return `<div style="font-size: 0.9em; color: #555; line-height: 1.6; margin-top: 15px;">${sections.join('')}</div>`;
        }

        // Function to draw small pie charts
        function drawSmallPieChart(canvasId, data, totalValue = 100) {
            console.log('Drawing pie chart:', canvasId, 'with data:', data);
            const canvas = document.getElementById(canvasId);
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const centerX = 60;
            const centerY = 60;
            const radius = 45;
            
            let currentAngle = -Math.PI / 2;
            
            data.forEach(item => {
                const sliceAngle = (item.percentage / totalValue) * 2 * Math.PI;
                
                ctx.beginPath();
                ctx.arc(centerX, centerY, radius, currentAngle, currentAngle + sliceAngle);
                ctx.lineTo(centerX, centerY);
                ctx.fillStyle = item.color;
                ctx.fill();
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 2;
                ctx.stroke();
                
                if (item.percentage >= 15) {
                    const textAngle = currentAngle + sliceAngle / 2;
                    const textX = centerX + Math.cos(textAngle) * (radius * 0.65);
                    const textY = centerY + Math.sin(textAngle) * (radius * 0.65);
                    
                    ctx.fillStyle = '#fff';
                    ctx.font = 'bold 11px Arial';
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText(item.percentage + '%', textX, textY);
                }
                
                currentAngle += sliceAngle;
            });
        }

        // Function to draw general model chart
        

        // Generate all cards on page load
        function initializeCards() {
            const containers = [
                { id: 'assessment-cards-container', name: 'overview', filter: null },
                { id: 'individual-cards-container', name: 'individual', filter: 'individual' },
                { id: 'group-cards-container', name: 'group', filter: 'group' },
                { id: 'teamwork-cards-container', name: 'teamwork', filter: 'teamwork' }
            ];
            
            // Clear all containers first to prevent duplicates
            containers.forEach(container => {
                const element = document.getElementById(container.id);
                if (element) element.innerHTML = '';
            });
            
            // Now add cards
            containers.forEach(container => {
                const element = document.getElementById(container.id);
                const assessments = container.filter 
                    ? assessmentData.assessments.filter(a => a.type === container.filter)
                    : assessmentData.assessments;
                
                assessments.forEach(assessment => {
                    const cardHtml = generateAssessmentCard(assessment, container.name);
                    element.innerHTML += cardHtml;
                });
            });
            
            // Draw all pie charts after cards are generated
            console.log('Initializing pie charts...');
            setTimeout(() => {
                containers.forEach(container => {
                    const assessments = container.filter 
                        ? assessmentData.assessments.filter(a => a.type === container.filter)
                        : assessmentData.assessments;
                    
                    assessments.forEach(assessment => {
                        const canvasId = `${assessment.id}UnitChart-${container.name}`;
                        drawSmallPieChart(canvasId, assessment.unitGradeDistribution);
                    });
                });
            }, 100);
        }

        // Tab Navigation
        function showTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            const buttons = document.querySelectorAll('.nav-tab button');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Toggle Advanced Filters
        function toggleAdvancedFilters() {
            const panel = document.getElementById('advanced-filters-panel');
            const button = document.getElementById('advanced-filters-toggle-btn');
            const icon = document.getElementById('toggle-icon');
            
            if (panel.classList.contains('open')) {
                panel.classList.remove('open');
                button.setAttribute('aria-expanded', 'false');
                icon.textContent = '▼';
            } else {
                panel.classList.add('open');
                button.setAttribute('aria-expanded', 'true');
                icon.textContent = '▲';
            }
        }

        // Update slider value displays
        function updateSliderValue(sliderId, value) {
            const valueSpan = document.getElementById(sliderId + '-value');
            valueSpan.textContent = '0-' + value;
        }

        // Update mode slider display
        function updateModeSlider(value) {
            const valueSpan = document.getElementById('mode-value');
            const modes = ['Live in person only', 'Live in person & Live online', 'All modes'];
            valueSpan.textContent = modes[value];
        }

        // Apply all filters
        function applyFilters() {
            const cards = document.querySelectorAll('.assessment-card');
            const cohortMax = parseInt(document.getElementById('cohort-slider').value);
            const groupsizeMax = parseInt(document.getElementById('groupsize-slider').value);
            const timeMax = parseInt(document.getElementById('time-slider').value);
            const groupsMax = parseInt(document.getElementById('groups-slider').value);
            const assessorsMax = parseInt(document.getElementById('assessors-slider').value);
            const modeValue = parseInt(document.getElementById('mode-slider').value);
            
            let visibleCount = 0;
            
            cards.forEach(card => {
                if (card.style.display === 'none' && !card.dataset.cohort) {
                    return;
                }
                
                const cohort = parseInt(card.dataset.cohort) || -1;
                const groupmax = parseInt(card.dataset.groupmax) || -1;
                const groups = parseInt(card.dataset.groups) || -1;
                const minutes = parseInt(card.dataset.minutes) || -1;
                const assessors = parseInt(card.dataset.assessors) || -1;
                const mode = card.dataset.mode;
                
                let show = true;
                
                if (cohort > 0 && cohort > cohortMax) show = false;
                if (groupmax > 0 && groupmax > groupsizeMax) show = false;
                if (minutes > 0 && minutes > timeMax) show = false;
                if (groups > 0 && groups > groupsMax) show = false;
                if (assessors > 0 && assessors > assessorsMax) show = false;
                
                if (mode && modeValue < 2) {
                    const validModes = modeValue === 0 ? ['person'] : ['person', 'online'];
                    if (!validModes.includes(mode)) show = false;
                }
                
                if (show) {
                    card.style.display = 'block';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });
            
            const resultCount = document.getElementById('filter-results-count');
            if (visibleCount === cards.length) {
                resultCount.textContent = 'Showing all assessments';
            } else {
                resultCount.textContent = `Showing ${visibleCount} of ${cards.length} assessments`;
            }
        }

        // Reset all filters
        function resetFilters() {
            document.getElementById('cohort-slider').value = 500;
            document.getElementById('groupsize-slider').value = 20;
            document.getElementById('time-slider').value = 30;
            document.getElementById('groups-slider').value = 100;
            document.getElementById('assessors-slider').value = 5;
            document.getElementById('mode-slider').value = 2;
            
            updateSliderValue('cohort', 500);
            updateSliderValue('groupsize', 20);
            updateSliderValue('time', 30);
            updateSliderValue('groups', 100);
            updateSliderValue('assessors', 5);
            updateModeSlider(2);
            
            const buttons = document.querySelectorAll('.filter-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            buttons[0].classList.add('active');
            
            const cards = document.querySelectorAll('.assessment-card');
            cards.forEach(card => card.style.display = 'block');
            
            document.getElementById('filter-results-count').textContent = 'Showing all assessments';
        }

        // Filter Cards
        function filterCards(type) {
            const cards = document.querySelectorAll('.assessment-card');
            const buttons = document.querySelectorAll('.filter-btn');
            
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            cards.forEach(card => {
                if (type === 'all') {
                    card.style.display = 'block';
                } else if (type === 'teamwork') {
                    if (card.dataset.type === 'teamwork') {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                } else if (type.startsWith('year')) {
                    if (card.dataset.year === type || card.dataset.year === 'year1-3' || !card.dataset.year) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                } else {
                    if (card.dataset.type === type) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                }
            });
            
            if (document.getElementById('advanced-filters-panel').classList.contains('open')) {
                applyFilters();
            }
        }

        // Toggle Support Materials
        function toggleSupport(assessmentId) {
            event.stopPropagation();
            const supportDiv = document.getElementById(assessmentId + '-support');
            const button = event.target;
            
            if (supportDiv.style.display === 'none') {
                supportDiv.style.display = 'block';
                button.innerHTML = '📚 Support Materials ▲';
            } else {
                supportDiv.style.display = 'none';
                button.innerHTML = '📚 Support Materials ▼';
            }
        }

        // Toggle Skills Assessed
        function toggleSkills(assessmentId) {
            event.stopPropagation();
            const skillsDiv = document.getElementById(assessmentId + '-skills');
            const button = event.target;
            
            if (skillsDiv.style.display === 'none') {
                skillsDiv.style.display = 'block';
                button.innerHTML = '🎯 Skills Assessed/Developed ▲';
            } else {
                skillsDiv.style.display = 'none';
                button.innerHTML = '🎯 Skills Assessed/Developed ▼';
            }
        }

        // Toggle How To Content
        function toggleHowTo(assessmentId) {
            event.stopPropagation();
            const howToDiv = document.getElementById(assessmentId + '-howto');
            const button = event.target;
            
            if (howToDiv.style.display === 'none') {
                howToDiv.style.display = 'block';
                button.innerHTML = 'How To Implement ▲';
            } else {
                howToDiv.style.display = 'none';
                button.innerHTML = 'How To Implement ▼';
            }
        }

        // Initialize on page load
        
    
        // Toggle Example Challenges
        function toggleChallenges(assessmentId) {
            event.stopPropagation();
            const challengesDiv = document.getElementById(assessmentId + '-challenges');
            const button = event.target;
            
            if (challengesDiv.style.display === 'none') {
                challengesDiv.style.display = 'block';
                button.innerHTML = '🎲 Example Challenges ▲';
            } else {
                challengesDiv.style.display = 'none';
                button.innerHTML = '🎲 Example Challenges ▼';
            }
        }

        // Generate Example Challenges HTML
        function generateExampleChallenges(challenges) {
            if (!challenges) return '';
            
            let html = '<div style="margin-top: 15px;">';
            
            if (challenges.overview) {
                html += `<p style="color: #363635; font-weight: bold; margin-bottom: 15px; padding: 15px; background: #f8f9fa; border-left: 4px solid #FF9300; border-radius: 5px;">${challenges.overview}</p>`;
            }
            
            if (challenges.architectureExamples) {
                html += `<h4 style="color: #363635; margin-top: 20px; margin-bottom: 10px;">Architecture/Design Projects:</h4>`;
                html += '<ul class="skills-list">';
                challenges.architectureExamples.forEach(example => {
                    html += `<li style="color: #555;">${example}</li>`;
                });
                html += '</ul>';
            }
            
            if (challenges.scienceResearchExamples) {
                html += `<h4 style="color: #363635; margin-top: 20px; margin-bottom: 10px;">Science Research Projects:</h4>`;
                html += '<ul class="skills-list">';
                challenges.scienceResearchExamples.forEach(example => {
                    html += `<li style="color: #555;">${example}</li>`;
                });
                html += '</ul>';
            }
            
            if (challenges.businessMarketingExamples) {
                html += `<h4 style="color: #363635; margin-top: 20px; margin-bottom: 10px;">Business/Marketing Projects:</h4>`;
                html += '<ul class="skills-list">';
                challenges.businessMarketingExamples.forEach(example => {
                    html += `<li style="color: #555;">${example}</li>`;
                });
                html += '</ul>';
            }
            
            if (challenges.engineeringDesignExamples) {
                html += `<h4 style="color: #363635; margin-top: 20px; margin-bottom: 10px;">Engineering Design Projects:</h4>`;
                html += '<ul class="skills-list">';
                challenges.engineeringDesignExamples.forEach(example => {
                    html += `<li style="color: #555;">${example}</li>`;
                });
                html += '</ul>';
            }
            
            if (challenges.howToCreate) {
                html += `<h4 style="color: #363635; margin-top: 20px; margin-bottom: 10px;">💡 How to Create Your Own Scenarios:</h4>`;
                html += '<ul class="skills-list">';
                challenges.howToCreate.forEach(tip => {
                    html += `<li style="color: #555;">${tip}</li>`;
                });
                html += '</ul>';
            }
            
            html += '</div>';
            return html;
        }

        


        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateSliderValue('cohort', 500);
            updateSliderValue('groupsize', 20);
            updateSliderValue('time', 30);
            updateSliderValue('groups', 100);
            updateSliderValue('assessors', 5);
            updateModeSlider(2);
            
            initializeCards();
            
        });
    
    </script>
</body>
</html>
